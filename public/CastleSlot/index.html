<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
	<title>CastleSlot</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
	
	<!-- Made with Construct 3, the HTML5 game and app creator :: https://www.construct.net -->
	<meta name="generator" content="Construct 3">

	<meta name="author" content="PAS GAMES">
	<meta name="description" content="Have Fun">

	<link rel="manifest" href="appmanifest.json">
	<link rel="apple-touch-icon" sizes="128x128" href="icons/icon-128.png">
	<link rel="apple-touch-icon" sizes="256x256" href="icons/icon-256.png">
	<link rel="icon" type="image/png" href="icons/icon-256.png">

	<link rel="stylesheet" href="style.css">

</head> 
<body> 
	<div id="fb-root"></div>
	
	<script src="c2runtime.js"></script>
	<script src="data.js"></script>
	<script src="start.js"></script>
	<script src="register-sw.js"></script>

	<script>
		// Block external navigation
		window.addEventListener('load', function() {
			// Override window.open to prevent external links
			window.open = function() {
				console.log('External navigation blocked');
				return null;
			};
			
			// Block all anchor clicks
			document.addEventListener('click', function(e) {
				const target = e.target.closest('a');
				if (target && target.href) {
					e.preventDefault();
					e.stopPropagation();
					return false;
				}
			}, true);
			
			// Make game full screen
			document.body.style.margin = '0';
			document.body.style.padding = '0';
			document.body.style.width = '100vw';
			document.body.style.height = '100vh';
			document.body.style.overflow = 'hidden';
			
			// Auto-play functionality
			function autoPlayGame() {
				console.log('ðŸŽ° Starting auto-play...');
				
				// Find and click the spin button automatically
				const clickSpinButton = () => {
					// Try to find spin button by common patterns
					const canvas = document.querySelector('canvas');
					if (canvas) {
						// Simulate click in the center-bottom area where spin button usually is
						const rect = canvas.getBoundingClientRect();
						const x = rect.width / 2;
						const y = rect.height * 0.85; // 85% down from top
						
						const clickEvent = new MouseEvent('click', {
							view: window,
							bubbles: true,
							cancelable: true,
							clientX: rect.left + x,
							clientY: rect.top + y
						});
						
						canvas.dispatchEvent(clickEvent);
						console.log('ðŸŽ² Auto-spin triggered');
					}
				};
				
				// Start auto-playing after game loads
				setTimeout(() => {
					clickSpinButton();
					// Keep spinning every 4 seconds
					setInterval(clickSpinButton, 4000);
				}, 3000);
			}
			
			// Start auto-play
			autoPlayGame();
			
			// Listen for messages from parent
			window.addEventListener('message', function(event) {
				if (event.data && event.data.action === 'autoPlay') {
					console.log('ðŸŽ° Auto-play triggered by parent');
					autoPlayGame();
				}
			});
		});
	</script>
</body> 
</html>
